{"version":3,"sources":["webpack:///src/app/add-bowl/add-bowl-routing.module.ts","webpack:///src/app/add-bowl/add-bowl.module.ts","webpack:///src/app/add-bowl/add-bowl.page.html","webpack:///src/app/add-bowl/add-bowl.page.scss","webpack:///src/app/add-bowl/add-bowl.page.ts"],"names":["routes","path","component","AddBowlPageRoutingModule","imports","forChild","exports","AddBowlPageModule","declarations","AddBowlPage","formBuilder","globalFooService","common","api","router","plt","actionSheetCtrl","userId","localStorage","getItem","submitAttempt","userData","JSON","parse","addPostForm","group","postDescription","required","minLength","postGroup","getGroups","post","subscribe","result","res","status","errMsgs","errors","x","allGroups","data","error","console","log","controls","buttons","text","icon","handler","addImage","Camera","Photos","is","push","fileInput","nativeElement","click","create","header","actionSheet","present","source","getPhoto","quality","allowEditing","resultType","Base64","image","blobData","b64toBlob","base64String","format","imageName","postImage","uploadBlobData","uploadedExtension","event","eventObj","target","file","files","b64Data","contentType","sliceSize","byteCharacters","atob","byteArrays","offset","length","slice","byteNumbers","Array","i","charCodeAt","byteArray","Uint8Array","blob","Blob","type","valid","presentLoading","dict","value","imgName","Date","toString","formData","FormData","append","stopLoading","obj","presentToast","navCtrl","navigateRoot","selector","template"],"mappings":"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","file":"add-bowl-add-bowl-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { AddBowlPage } from './add-bowl.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AddBowlPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class AddBowlPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { AddBowlPageRoutingModule } from './add-bowl-routing.module';\n\nimport { AddBowlPage } from './add-bowl.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    AddBowlPageRoutingModule\n  ],\n  declarations: [AddBowlPage]\n})\nexport class AddBowlPageModule {}\n","export default \"<ion-header>\\n\\t<ion-toolbar>\\n\\t\\t<div flexHeader>\\n\\t\\t\\t<div backHead>\\n\\t\\t\\t\\t<ion-back-button routerLink=\\\"/tabs/feed\\\"></ion-back-button>\\n\\t\\t\\t</div>\\n\\t\\t\\t<ion-title>Create Discussion</ion-title>\\n\\t\\t</div>\\n\\t</ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\t<div padding>\\n\\t\\t<div form>\\n\\t\\t\\t<form [formGroup]=\\\"addPostForm\\\" (ngSubmit)=\\\"onSubmit()\\\" novalidate>\\n\\t\\t\\t\\t<ion-row>\\n\\t\\t\\t\\t\\t<ion-col>\\n\\t\\t\\t\\t\\t\\t<label>What's on Your Mind?</label>\\n\\t\\t\\t\\t\\t\\t<ion-input formControlName=\\\"postDescription\\\" placeholder=\\\"What's on Your Mind\\\"></ion-input>\\n\\t\\t\\t\\t\\t\\t<ion-item class=\\\"form-text error\\\"\\n\\t\\t\\t\\t\\t\\t\\t*ngIf=\\\"submitAttempt && errorCtr.postDescription.errors?.required\\\">\\n\\t\\t\\t\\t\\t\\t\\t<ion-label no-margin stacked>Please enter description</ion-label>\\n\\t\\t\\t\\t\\t\\t</ion-item>\\n\\t\\t\\t\\t\\t\\t<ion-item class=\\\"form-text error\\\"\\n\\t\\t\\t\\t\\t\\t\\t*ngIf=\\\"submitAttempt && errorCtr.postDescription.errors?.minlength\\\">\\n\\t\\t\\t\\t\\t\\t\\t<ion-label no-margin stacked>Min 3 chars long.</ion-label>\\n\\t\\t\\t\\t\\t\\t</ion-item>\\n\\t\\t\\t\\t\\t</ion-col>\\n\\t\\t\\t\\t</ion-row>\\n\\t\\t\\t\\t<ion-row>\\n\\t\\t\\t\\t\\t<ion-col>\\n\\t\\t\\t\\t\\t\\t<label>Select Group</label>\\n\\t\\t\\t\\t\\t\\t<ion-select formControlName=\\\"postGroup\\\" value=\\\"\\\" [interfaceOptions]=\\\"customAlertOptions\\\"\\n\\t\\t\\t\\t\\t\\t\\tinterface=\\\"action-sheet\\\" placeholder=\\\"Select Group\\\">\\n\\t\\t\\t\\t\\t\\t\\t<ion-select-option *ngFor=\\\"let val of allGroups\\\" value=\\\"{{val.id}}\\\">{{val.title}}\\n\\t\\t\\t\\t\\t\\t\\t</ion-select-option>\\n\\t\\t\\t\\t\\t\\t</ion-select>\\n\\n\\n\\t\\t\\t\\t\\t\\t<ion-item class='form-text error' *ngIf=\\\"submitAttempt && errorCtr.postGroup.errors?.required\\\">\\n\\t\\t\\t\\t\\t\\t\\t<ion-label no-margin stacked>Please select at least one group.</ion-label>\\n\\t\\t\\t\\t\\t\\t</ion-item>\\n\\t\\t\\t\\t\\t</ion-col>\\n\\t\\t\\t\\t</ion-row>\\n\\t\\t\\t\\t<ion-row>\\n\\t\\t\\t\\t\\t<ion-col>\\n\\t\\t\\t\\t\\t\\t<label>Add a cover image</label>\\n\\n\\t\\t\\t\\t\\t\\t<div>\\n\\t\\t\\t\\t\\t\\t\\t<ion-button (click)=\\\"selectImageSource()\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<ion-icon name=\\\"camera\\\"></ion-icon>\\n\\t\\t\\t\\t\\t\\t\\t</ion-button>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t<input type=\\\"file\\\" accept=\\\"image/*\\\" id=\\\"fileupload\\\" (change)=\\\"uploadFile($event)\\\"\\n\\t\\t\\t\\t\\t\\t\\tname=\\\"fileupload\\\" style=\\\"display:none;\\\" />\\n\\t\\t\\t\\t\\t</ion-col>\\n\\t\\t\\t\\t\\t<ion-col size=\\\"12\\\" *ngIf=\\\"postImage !=''\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"coverImages\\\">\\n\\t\\t\\t\\t\\t\\t\\t<span><img src=\\\"{{ postImage }}\\\" alt=\\\"\\\"></span>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</ion-col>\\n\\t\\t\\t\\t</ion-row>\\n\\t\\t\\t\\t<ion-row>\\n\\t\\t\\t\\t\\t<ion-col>\\n\\t\\t\\t\\t\\t\\t<ion-button type=\\\"submit\\\" btnsave>Share</ion-button>\\n\\t\\t\\t\\t\\t</ion-col>\\n\\t\\t\\t\\t</ion-row>\\n\\t\\t\\t</form>\\n\\t\\t</div>\\n\\n\\t</div>\\n</ion-content>\";","export default \"[btngetsocial] {\\n  height: 30px;\\n  --padding: 0;\\n  --min-height: 1px;\\n  font-size: 12px;\\n}\\n\\n[center] {\\n  text-align: center;\\n  font-weight: 500;\\n}\\n\\n[userImg] {\\n  width: 150px;\\n  height: 150px;\\n  position: relative;\\n  margin: 0 auto;\\n}\\n\\n[userImg] img {\\n  border-radius: 250px;\\n  width: 100%;\\n  height: 100%;\\n  -o-object-fit: cover;\\n     object-fit: cover;\\n}\\n\\n[userImg] ion-button {\\n  min-width: 1px;\\n  min-height: 1px;\\n  width: 40px;\\n  height: 40px;\\n  border-radius: 50px;\\n  background: var(--primary-color);\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  --border-radius: 50px;\\n  --padding: 0 !important;\\n  padding: 0 !important;\\n  position: absolute;\\n  right: 0;\\n  bottom: 0;\\n  border: 2px solid #fff;\\n}\\n\\n[userImg] ion-button ion-icon {\\n  min-width: 50px;\\n}\\n\\n[form] {\\n  margin: 0px 0 0;\\n}\\n\\n[form] ion-row {\\n  margin: 10px 0 0;\\n}\\n\\n[form] ion-row ion-col label {\\n  font-size: 13px;\\n  color: #777;\\n  display: block;\\n  margin: 0 0 8px;\\n}\\n\\n[form] ion-row ion-col ion-input, [form] ion-row ion-col ion-textarea, [form] ion-row ion-col ion-select {\\n  border: 1px solid #eee;\\n  border-radius: 5px;\\n  font-size: 14px;\\n  color: #222;\\n  padding: 10px;\\n}\\n\\n[btnsave] {\\n  height: 50px;\\n  border-radius: 10px;\\n  width: 100%;\\n  margin-top: 80px;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2FkZC1ib3dsLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNDLFlBQVk7RUFDVCxZQUFVO0VBQ1YsaUJBQWE7RUFDYixlQUFlO0FBQ25COztBQUVBO0VBQUMsa0JBQWtCO0VBQ2xCLGdCQUFnQjtBQUVqQjs7QUFFQTtFQURDLFlBQVc7RUFDWCxhQUFZO0VBQ1osa0JBQWtCO0VBQ2xCLGNBQWE7QUFHZDs7QUFFQTtFQUhFLG9CQUFvQjtFQUNwQixXQUFXO0VBQ1gsWUFBWTtFQUNaLG9CQUFpQjtLQUFqQixpQkFBaUI7QUFLbkI7O0FBRUE7RUFKRSxjQUFjO0VBQ1gsZUFBZTtFQUNmLFdBQVc7RUFDWCxZQUFZO0VBQ1osbUJBQW1CO0VBQ25CLGdDQUFnQztFQUNoQyxhQUFhO0VBQ2IsbUJBQW1CO0VBQ25CLHVCQUF1QjtFQUN2QixxQkFBZ0I7RUFDaEIsdUJBQVU7RUFDVixxQkFBcUI7RUFDckIsa0JBQWtCO0VBQ2xCLFFBQVE7RUFDUixTQUFRO0VBQ1Isc0JBQXFCO0FBTTFCOztBQUVBO0VBTk0sZUFBZTtBQVFyQjs7QUFFQTtFQUxDLGVBQWM7QUFPZjs7QUFFQTtFQVBFLGdCQUFlO0FBU2pCOztBQUVBO0VBUkksZUFBZTtFQUNmLFdBQVc7RUFDWCxjQUFjO0VBQ2QsZUFBYztBQVVsQjs7QUFFQTtFQVRJLHNCQUFxQjtFQUNyQixrQkFBa0I7RUFDbEIsZUFBZTtFQUNmLFdBQVc7RUFDWCxhQUFZO0FBV2hCOztBQUVBO0VBUEMsWUFBWTtFQUNaLG1CQUFtQjtFQUNuQixXQUFXO0VBQ1gsZ0JBQWdCO0FBU2pCIiwiZmlsZSI6ImFkZC1ib3dsLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIltidG5nZXRzb2NpYWxde1xyXG5cdGhlaWdodDogMzBweDtcclxuICAgIC0tcGFkZGluZzogMDtcclxuICAgIC0tbWluLWhlaWdodDogMXB4O1xyXG4gICAgZm9udC1zaXplOiAxMnB4O1xyXG59XHJcbltjZW50ZXJde1xyXG5cdHRleHQtYWxpZ246IGNlbnRlcjtcclxuXHRmb250LXdlaWdodDogNTAwO1xyXG59XHJcblt1c2VySW1nXXtcclxuXHR3aWR0aDoxNTBweDtcclxuXHRoZWlnaHQ6MTUwcHg7XHJcblx0cG9zaXRpb246IHJlbGF0aXZlO1xyXG5cdG1hcmdpbjowIGF1dG87XHJcblx0aW1ne1xyXG5cdFx0Ym9yZGVyLXJhZGl1czogMjUwcHg7XHJcblx0XHR3aWR0aDogMTAwJTtcclxuXHRcdGhlaWdodDogMTAwJTtcclxuXHRcdG9iamVjdC1maXQ6IGNvdmVyO1xyXG5cdH1cclxuXHRpb24tYnV0dG9ue1xyXG5cdFx0bWluLXdpZHRoOiAxcHg7XHJcblx0ICAgIG1pbi1oZWlnaHQ6IDFweDtcclxuXHQgICAgd2lkdGg6IDQwcHg7XHJcblx0ICAgIGhlaWdodDogNDBweDtcclxuXHQgICAgYm9yZGVyLXJhZGl1czogNTBweDtcclxuXHQgICAgYmFja2dyb3VuZDogdmFyKC0tcHJpbWFyeS1jb2xvcik7XHJcblx0ICAgIGRpc3BsYXk6IGZsZXg7XHJcblx0ICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcblx0ICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG5cdCAgICAtLWJvcmRlci1yYWRpdXM6IDUwcHg7XHJcblx0ICAgIC0tcGFkZGluZzogMCAhaW1wb3J0YW50O1xyXG5cdCAgICBwYWRkaW5nOiAwICFpbXBvcnRhbnQ7IFxyXG5cdCAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcblx0ICAgIHJpZ2h0OiAwO1xyXG5cdCAgICBib3R0b206MDtcclxuXHQgICAgYm9yZGVyOjJweCBzb2xpZCAjZmZmO1xyXG5cdCAgICBpb24taWNvbntcclxuXHQgICAgXHRtaW4td2lkdGg6IDUwcHg7XHJcblx0ICAgIH1cclxuXHR9XHJcbn1cclxuW2Zvcm1de1xyXG5cdG1hcmdpbjowcHggMCAwO1xyXG5cdGlvbi1yb3d7XHJcblx0XHRtYXJnaW46MTBweCAwIDA7XHJcblx0XHRpb24tY29se1xyXG5cdFx0XHRsYWJlbHtcclxuXHRcdFx0XHRmb250LXNpemU6IDEzcHg7XHJcblx0XHRcdFx0Y29sb3I6ICM3Nzc7XHJcblx0XHRcdFx0ZGlzcGxheTogYmxvY2s7XHJcblx0XHRcdFx0bWFyZ2luOjAgMCA4cHg7XHJcblx0XHRcdH1cclxuXHRcdFx0aW9uLWlucHV0LCBpb24tdGV4dGFyZWEsIGlvbi1zZWxlY3R7XHJcblx0XHRcdFx0Ym9yZGVyOjFweCBzb2xpZCAjZWVlO1xyXG5cdFx0XHRcdGJvcmRlci1yYWRpdXM6IDVweDtcclxuXHRcdFx0XHRmb250LXNpemU6IDE0cHg7XHJcblx0XHRcdFx0Y29sb3I6ICMyMjI7XHJcblx0XHRcdFx0cGFkZGluZzoxMHB4O1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59XHJcbltidG5zYXZlXXtcclxuXHRoZWlnaHQ6IDUwcHg7XHJcblx0Ym9yZGVyLXJhZGl1czogMTBweDtcclxuXHR3aWR0aDogMTAwJTtcclxuXHRtYXJnaW4tdG9wOiA4MHB4O1xyXG59Il19 */\";","import { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\nimport { FormGroup, FormBuilder, Validators } from \"@angular/forms\";\nimport { ApiService } from '../services/api/api.service';\nimport { GlobalFooService } from '../services/globalFooService.service';\nimport { CommonService } from '../services/common.service';\nimport { Router } from '@angular/router';\nimport { Camera, CameraResultType, CameraSource } from '@capacitor/camera';\nimport { Platform, ActionSheetController } from '@ionic/angular';\n\n@Component({\n  selector: 'app-add-bowl',\n  templateUrl: './add-bowl.page.html',\n  styleUrls: ['./add-bowl.page.scss'],\n})\nexport class AddBowlPage implements OnInit {\n  @ViewChild('fileInput', { static: false }) fileInput: ElementRef;\n  userId: any = localStorage.getItem('ineat_userid');\n  userData: any;\n  addPostForm: FormGroup;\n  submitAttempt: boolean = false;\n  previewImage: any;\n  uploadBlobData: any;\n  uploadedExtension: any;\n  postImage: any;\n  allGroups: any;\n\n\n  constructor(\n    public formBuilder: FormBuilder,\n    private globalFooService: GlobalFooService,\n    private common: CommonService,\n    public api: ApiService,\n    public router: Router,\n    public plt: Platform,\n    public actionSheetCtrl: ActionSheetController\n  ) {\n    this.userData = JSON.parse(localStorage.getItem('ineat_userData'));\n  }\n\n  ngOnInit() {\n\n    this.addPostForm = this.formBuilder.group({\n      postDescription: ['', [Validators.required, Validators.minLength(3)]],\n      postGroup: ['', [Validators.required]],\n    });\n\n    this.getGroups();\n  }\n\n  getGroups()\n  {\n    this.api.post('getUserSocialGroups', { userId: this.userId },'')\n      .subscribe(\n        (result) => {\n          const res: any = result;\n          if(res.status === 422 || res.status === '422')\n          {\n            let errMsgs = '';\n            for (const x of res.errors) {\n              errMsgs += x +'</br>';\n            }\n            this.allGroups = [];\n          }\n          else if(res.status === 200 || res.status === '200')\n          {\n            this.allGroups = res.data;\n          }\n        },\n        (error) => {\n          console.log(error);\n        });\n  }\n\n  get errorCtr() {\n    return this.addPostForm.controls;\n  }\n\n\n  async selectImageSource() {\n    const buttons = [\n      {\n        text: 'Take Photo',\n        icon: 'camera',\n        handler: () => {\n          this.addImage(CameraSource.Camera);\n        }\n      },\n      {\n        text: 'Choose From Gallery',\n        icon: 'image',\n        handler: () => {\n          this.addImage(CameraSource.Photos);\n        }\n      }\n    ];\n    // Only allow file selection inside a browser\n    if (!this.plt.is('hybrid')) {\n      buttons.push({\n        text: 'Choose a File',\n        icon: 'attach',\n        handler: () => {\n          this.fileInput.nativeElement.click();\n        }\n      });\n    }\n    const actionSheet = await this.actionSheetCtrl.create({\n      header: 'Select Image Source',\n      buttons\n    });\n    await actionSheet.present();\n  }\n\n  async addImage(source: any) {\n    const image = await Camera.getPhoto({\n      quality: 60,\n      allowEditing: false,\n      resultType: CameraResultType.Base64,\n      source\n    });\n\n\n    const blobData = this.b64toBlob(image.base64String, `image/${image.format}`);\n    const imageName = 'imagee';\n\n    this.postImage = 'data:image/png;base64,' + image.base64String;\n\n    this.uploadBlobData = blobData;\n    this.uploadedExtension = image.format;\n\n  }\n\n  uploadFile(event: EventTarget) {\n    const eventObj: MSInputMethodContext = event as MSInputMethodContext;\n    const target: HTMLInputElement = eventObj.target as HTMLInputElement;\n    const file: File = target.files[0];\n  }\n\n  // Helper function\n  b64toBlob(b64Data, contentType = '', sliceSize = 512) {\n    const byteCharacters = atob(b64Data);\n    const byteArrays = [];\n\n    for (let offset = 0; offset < byteCharacters.length; offset += sliceSize) {\n      const slice = byteCharacters.slice(offset, offset + sliceSize);\n\n      const byteNumbers = new Array(slice.length);\n      for (let i = 0; i < slice.length; i++) {\n        byteNumbers[i] = slice.charCodeAt(i);\n      }\n      const byteArray = new Uint8Array(byteNumbers);\n      byteArrays.push(byteArray);\n    }\n    const blob = new Blob(byteArrays, { type: contentType });\n    return blob;\n  }\n\n\n  onSubmit() {\n    this.submitAttempt = true;\n\n    if (!this.addPostForm.valid) {\n      return false;\n    } else {\n      this.common.presentLoading();\n      let dict = this.addPostForm.value;\n      const imgName = (+new Date).toString(36).slice(-5);\n      const formData = new FormData();\n\n      if(typeof this.uploadBlobData === 'undefined'){ }else\n      {\n        formData.append('file', this.uploadBlobData, 'myimage.'+this.uploadedExtension);\n      }\n\n      formData.append('description', this.addPostForm.value.postDescription);\n      formData.append('group', this.addPostForm.value.postGroup);\n      formData.append('userId', this.userId);\n\n      this.api.post('addSocialPost', formData, '')\n        .subscribe(\n          (result) => {\n            this.submitAttempt = false;\n            this.common.stopLoading();\n            let res: any;\n            res = result;\n            if (res.status == 422) {\n              var errMsgs = '';\n              for (var i = 0; i < res.errors.length; i++) {\n                var obj = res.errors[i];\n                errMsgs += obj + '</br>';\n              }\n\n              this.common.presentToast(errMsgs, 'danger');\n\n            }\n            else if (res.status == 200) {\n              this.common.presentToast('Feed added successfully!.', 'success');\n              this.api.navCtrl.navigateRoot('/tabs/feed');\n            }\n          },\n          (error) => {\n            console.log(error);\n          });\n    }\n  }\n\n}\n"]}