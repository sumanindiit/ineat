{"version":3,"sources":["webpack:///node_modules/@capacitor-community/facebook-login/dist/esm/web.js","webpack:///node_modules/@codetrix-studio/capacitor-google-auth/dist/esm/web.js","webpack:///node_modules/@capacitor/camera/dist/esm/web.js"],"names":["FacebookLoginWeb","name","platforms","options","defaultOptions","version","Promise","resolve","reject","loadScript","locale","then","FB","init","Object","assign","err","document","scriptId","scriptEl","getElementById","head","getElementsByTagName","script","createElement","defer","async","id","onload","src","appendChild","console","log","login","response","debug","status","accessToken","token","authResponse","scope","permissions","join","logout","getLoginStatus","result","applicationId","undefined","declinedPermissions","expires","isExpired","lastRefresh","userId","userID","fields","api","error","message","GoogleAuthWeb","type","platformJsLoaded","bind","_options","clientId","scopes","grantOfflineAccess","_a","_b","window","metaClientId","getElementsByName","content","warn","gapiLoaded","gapiResolve","addUserChangeListener","gapi","load","clientConfig","client_id","length","auth2","needsOfflineAccess","getAuthInstance","offlineAccessResponse","serverAuthCode","code","signIn","googleUser","currentUser","get","reloadAuthResponse","user","getUserFrom","access_token","idToken","id_token","refreshToken","signOut","listen","notifyListeners","isSignedIn","profile","getBasicProfile","email","getEmail","familyName","getFamilyName","givenName","getGivenName","getId","imageUrl","getImageUrl","getName","getAuthResponse","authentication","CameraWeb","webUseInput","source","Photos","fileInputExperience","Prompt","actionSheet","querySelector","body","header","promptLabelHeader","cancelable","title","promptLabelPhoto","promptLabelPicture","addEventListener","e","selection","detail","cameraExperience","multipleFileInputExperience","customElements","cameraModal","facingMode","direction","Front","componentOnReady","photo","Error","_getCameraPhoto","dismiss","removeChild","present","input","cleanup","parentNode","hidden","_e","file","files","format","resultType","reader","FileReader","dataUrl","b64","split","base64String","readAsDataURL","webPath","URL","createObjectURL","accept","capture","removeAttribute","Rear","click","multiple","photos","i","push","saved","onloadend","r","onerror","navigator","unavailable","query","permission","camera","state","unimplemented","Camera"],"mappings":"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","file":"web-es5.js","sourcesContent":["import { WebPlugin } from '@capacitor/core';\nexport class FacebookLoginWeb extends WebPlugin {\n    constructor() {\n        super({\n            name: 'FacebookLogin',\n            platforms: ['web'],\n        });\n    }\n    initialize(options) {\n        const defaultOptions = { version: 'v10.0' };\n        return new Promise((resolve, reject) => {\n            try {\n                return this.loadScript(options.locale).then(() => {\n                    FB.init(Object.assign(Object.assign({}, defaultOptions), options));\n                    resolve();\n                });\n            }\n            catch (err) {\n                reject(err);\n            }\n        });\n    }\n    loadScript(locale) {\n        if (typeof document === 'undefined') {\n            return Promise.resolve();\n        }\n        const scriptId = 'fb';\n        const scriptEl = document === null || document === void 0 ? void 0 : document.getElementById(scriptId);\n        if (scriptEl) {\n            return Promise.resolve();\n        }\n        const head = document.getElementsByTagName('head')[0];\n        const script = document.createElement('script');\n        return new Promise((resolve) => {\n            script.defer = true;\n            script.async = true;\n            script.id = scriptId;\n            script.onload = () => { resolve(); };\n            script.src = `https://connect.facebook.net/${locale !== null && locale !== void 0 ? locale : 'en_US'}/sdk.js`;\n            head.appendChild(script);\n        });\n    }\n    async login(options) {\n        console.log('FacebookLoginWeb.login', options);\n        return new Promise((resolve, reject) => {\n            FB.login(response => {\n                console.debug('FB.login', response);\n                if (response.status === 'connected') {\n                    resolve({\n                        accessToken: {\n                            token: response.authResponse.accessToken,\n                        },\n                    });\n                }\n                else {\n                    reject({\n                        accessToken: {\n                            token: null,\n                        },\n                    });\n                }\n            }, { scope: options.permissions.join(',') });\n        });\n    }\n    async logout() {\n        return new Promise(resolve => {\n            FB.logout(() => resolve());\n        });\n    }\n    async getCurrentAccessToken() {\n        return new Promise((resolve, reject) => {\n            FB.getLoginStatus(response => {\n                if (response.status === 'connected') {\n                    const result = {\n                        accessToken: {\n                            applicationId: undefined,\n                            declinedPermissions: [],\n                            expires: undefined,\n                            isExpired: undefined,\n                            lastRefresh: undefined,\n                            permissions: [],\n                            token: response.authResponse.accessToken,\n                            userId: response.authResponse.userID,\n                        },\n                    };\n                    resolve(result);\n                }\n                else {\n                    reject({\n                        accessToken: {\n                            token: null,\n                        },\n                    });\n                }\n            });\n        });\n    }\n    async getProfile(options) {\n        const fields = options.fields.join(',');\n        return new Promise((resolve, reject) => {\n            FB.api('/me', { fields }, response => {\n                if (response.error) {\n                    reject(response.error.message);\n                    return;\n                }\n                resolve(response);\n            });\n        });\n    }\n}\n//# sourceMappingURL=web.js.map","import { WebPlugin } from '@capacitor/core';\nexport class GoogleAuthWeb extends WebPlugin {\n    constructor() {\n        super();\n    }\n    loadScript() {\n        if (typeof document === 'undefined') {\n            return;\n        }\n        const scriptId = 'gapi';\n        const scriptEl = document === null || document === void 0 ? void 0 : document.getElementById(scriptId);\n        if (scriptEl) {\n            return;\n        }\n        const head = document.getElementsByTagName('head')[0];\n        const script = document.createElement('script');\n        script.type = 'text/javascript';\n        script.defer = true;\n        script.async = true;\n        script.id = scriptId;\n        script.onload = this.platformJsLoaded.bind(this);\n        script.src = 'https://apis.google.com/js/platform.js';\n        head.appendChild(script);\n    }\n    initialize(_options = {\n        clientId: '',\n        scopes: [],\n        grantOfflineAccess: false,\n    }) {\n        var _a, _b;\n        if (typeof window === 'undefined') {\n            return;\n        }\n        const metaClientId = (_a = document.getElementsByName('google-signin-client_id')[0]) === null || _a === void 0 ? void 0 : _a.content;\n        const clientId = _options.clientId || metaClientId || '';\n        if (!clientId) {\n            console.warn('GoogleAuthPlugin - clientId is empty');\n        }\n        this.options = {\n            clientId,\n            grantOfflineAccess: (_b = _options.grantOfflineAccess) !== null && _b !== void 0 ? _b : false,\n            scopes: _options.scopes || [],\n        };\n        this.gapiLoaded = new Promise((resolve) => {\n            // HACK: Relying on window object, can't get property in gapi.load callback\n            window.gapiResolve = resolve;\n            this.loadScript();\n        });\n        this.addUserChangeListener();\n    }\n    platformJsLoaded() {\n        gapi.load('auth2', () => {\n            const clientConfig = {\n                client_id: this.options.clientId,\n            };\n            if (this.options.scopes.length) {\n                clientConfig.scope = this.options.scopes.join(' ');\n            }\n            gapi.auth2.init(clientConfig);\n            window.gapiResolve();\n        });\n    }\n    async signIn() {\n        return new Promise(async (resolve, reject) => {\n            var _a;\n            try {\n                let serverAuthCode;\n                const needsOfflineAccess = (_a = this.options.grantOfflineAccess) !== null && _a !== void 0 ? _a : false;\n                if (needsOfflineAccess) {\n                    const offlineAccessResponse = await gapi.auth2.getAuthInstance().grantOfflineAccess();\n                    serverAuthCode = offlineAccessResponse.code;\n                }\n                else {\n                    await gapi.auth2.getAuthInstance().signIn();\n                }\n                const googleUser = gapi.auth2.getAuthInstance().currentUser.get();\n                if (needsOfflineAccess) {\n                    // HACK: AuthResponse is null if we don't do this when using grantOfflineAccess\n                    await googleUser.reloadAuthResponse();\n                }\n                const user = this.getUserFrom(googleUser);\n                user.serverAuthCode = serverAuthCode;\n                resolve(user);\n            }\n            catch (error) {\n                reject(error);\n            }\n        });\n    }\n    async refresh() {\n        const authResponse = await gapi.auth2.getAuthInstance().currentUser.get().reloadAuthResponse();\n        return {\n            accessToken: authResponse.access_token,\n            idToken: authResponse.id_token,\n            refreshToken: '',\n        };\n    }\n    async signOut() {\n        return gapi.auth2.getAuthInstance().signOut();\n    }\n    async addUserChangeListener() {\n        await this.gapiLoaded;\n        gapi.auth2.getAuthInstance().currentUser.listen((googleUser) => {\n            this.notifyListeners('userChange', googleUser.isSignedIn() ? this.getUserFrom(googleUser) : null);\n        });\n    }\n    getUserFrom(googleUser) {\n        const user = {};\n        const profile = googleUser.getBasicProfile();\n        user.email = profile.getEmail();\n        user.familyName = profile.getFamilyName();\n        user.givenName = profile.getGivenName();\n        user.id = profile.getId();\n        user.imageUrl = profile.getImageUrl();\n        user.name = profile.getName();\n        const authResponse = googleUser.getAuthResponse(true);\n        user.authentication = {\n            accessToken: authResponse.access_token,\n            idToken: authResponse.id_token,\n            refreshToken: '',\n        };\n        return user;\n    }\n}\n//# sourceMappingURL=web.js.map","import { WebPlugin, CapacitorException } from '@capacitor/core';\nimport { CameraSource, CameraDirection } from './definitions';\nexport class CameraWeb extends WebPlugin {\n    async getPhoto(options) {\n        // eslint-disable-next-line no-async-promise-executor\n        return new Promise(async (resolve, reject) => {\n            if (options.webUseInput || options.source === CameraSource.Photos) {\n                this.fileInputExperience(options, resolve);\n            }\n            else if (options.source === CameraSource.Prompt) {\n                let actionSheet = document.querySelector('pwa-action-sheet');\n                if (!actionSheet) {\n                    actionSheet = document.createElement('pwa-action-sheet');\n                    document.body.appendChild(actionSheet);\n                }\n                actionSheet.header = options.promptLabelHeader || 'Photo';\n                actionSheet.cancelable = false;\n                actionSheet.options = [\n                    { title: options.promptLabelPhoto || 'From Photos' },\n                    { title: options.promptLabelPicture || 'Take Picture' },\n                ];\n                actionSheet.addEventListener('onSelection', async (e) => {\n                    const selection = e.detail;\n                    if (selection === 0) {\n                        this.fileInputExperience(options, resolve);\n                    }\n                    else {\n                        this.cameraExperience(options, resolve, reject);\n                    }\n                });\n            }\n            else {\n                this.cameraExperience(options, resolve, reject);\n            }\n        });\n    }\n    async pickImages(_options) {\n        // eslint-disable-next-line no-async-promise-executor\n        return new Promise(async (resolve) => {\n            this.multipleFileInputExperience(resolve);\n        });\n    }\n    async cameraExperience(options, resolve, reject) {\n        if (customElements.get('pwa-camera-modal')) {\n            const cameraModal = document.createElement('pwa-camera-modal');\n            cameraModal.facingMode =\n                options.direction === CameraDirection.Front ? 'user' : 'environment';\n            document.body.appendChild(cameraModal);\n            try {\n                await cameraModal.componentOnReady();\n                cameraModal.addEventListener('onPhoto', async (e) => {\n                    const photo = e.detail;\n                    if (photo === null) {\n                        reject(new CapacitorException('User cancelled photos app'));\n                    }\n                    else if (photo instanceof Error) {\n                        reject(photo);\n                    }\n                    else {\n                        resolve(await this._getCameraPhoto(photo, options));\n                    }\n                    cameraModal.dismiss();\n                    document.body.removeChild(cameraModal);\n                });\n                cameraModal.present();\n            }\n            catch (e) {\n                this.fileInputExperience(options, resolve);\n            }\n        }\n        else {\n            console.error(`Unable to load PWA Element 'pwa-camera-modal'. See the docs: https://capacitorjs.com/docs/pwa-elements.`);\n            this.fileInputExperience(options, resolve);\n        }\n    }\n    fileInputExperience(options, resolve) {\n        let input = document.querySelector('#_capacitor-camera-input');\n        const cleanup = () => {\n            var _a;\n            (_a = input.parentNode) === null || _a === void 0 ? void 0 : _a.removeChild(input);\n        };\n        if (!input) {\n            input = document.createElement('input');\n            input.id = '_capacitor-camera-input';\n            input.type = 'file';\n            input.hidden = true;\n            document.body.appendChild(input);\n            input.addEventListener('change', (_e) => {\n                const file = input.files[0];\n                let format = 'jpeg';\n                if (file.type === 'image/png') {\n                    format = 'png';\n                }\n                else if (file.type === 'image/gif') {\n                    format = 'gif';\n                }\n                if (options.resultType === 'dataUrl' ||\n                    options.resultType === 'base64') {\n                    const reader = new FileReader();\n                    reader.addEventListener('load', () => {\n                        if (options.resultType === 'dataUrl') {\n                            resolve({\n                                dataUrl: reader.result,\n                                format,\n                            });\n                        }\n                        else if (options.resultType === 'base64') {\n                            const b64 = reader.result.split(',')[1];\n                            resolve({\n                                base64String: b64,\n                                format,\n                            });\n                        }\n                        cleanup();\n                    });\n                    reader.readAsDataURL(file);\n                }\n                else {\n                    resolve({\n                        webPath: URL.createObjectURL(file),\n                        format: format,\n                    });\n                    cleanup();\n                }\n            });\n        }\n        input.accept = 'image/*';\n        input.capture = true;\n        if (options.source === CameraSource.Photos ||\n            options.source === CameraSource.Prompt) {\n            input.removeAttribute('capture');\n        }\n        else if (options.direction === CameraDirection.Front) {\n            input.capture = 'user';\n        }\n        else if (options.direction === CameraDirection.Rear) {\n            input.capture = 'environment';\n        }\n        input.click();\n    }\n    multipleFileInputExperience(resolve) {\n        let input = document.querySelector('#_capacitor-camera-input-multiple');\n        const cleanup = () => {\n            var _a;\n            (_a = input.parentNode) === null || _a === void 0 ? void 0 : _a.removeChild(input);\n        };\n        if (!input) {\n            input = document.createElement('input');\n            input.id = '_capacitor-camera-input-multiple';\n            input.type = 'file';\n            input.hidden = true;\n            input.multiple = true;\n            document.body.appendChild(input);\n            input.addEventListener('change', (_e) => {\n                const photos = [];\n                // eslint-disable-next-line @typescript-eslint/prefer-for-of\n                for (let i = 0; i < input.files.length; i++) {\n                    const file = input.files[i];\n                    let format = 'jpeg';\n                    if (file.type === 'image/png') {\n                        format = 'png';\n                    }\n                    else if (file.type === 'image/gif') {\n                        format = 'gif';\n                    }\n                    photos.push({\n                        webPath: URL.createObjectURL(file),\n                        format: format,\n                    });\n                }\n                resolve({ photos });\n                cleanup();\n            });\n        }\n        input.accept = 'image/*';\n        input.click();\n    }\n    _getCameraPhoto(photo, options) {\n        return new Promise((resolve, reject) => {\n            const reader = new FileReader();\n            const format = photo.type.split('/')[1];\n            if (options.resultType === 'uri') {\n                resolve({\n                    webPath: URL.createObjectURL(photo),\n                    format: format,\n                    saved: false,\n                });\n            }\n            else {\n                reader.readAsDataURL(photo);\n                reader.onloadend = () => {\n                    const r = reader.result;\n                    if (options.resultType === 'dataUrl') {\n                        resolve({\n                            dataUrl: r,\n                            format: format,\n                            saved: false,\n                        });\n                    }\n                    else {\n                        resolve({\n                            base64String: r.split(',')[1],\n                            format: format,\n                            saved: false,\n                        });\n                    }\n                };\n                reader.onerror = e => {\n                    reject(e);\n                };\n            }\n        });\n    }\n    async checkPermissions() {\n        if (typeof navigator === 'undefined' || !navigator.permissions) {\n            throw this.unavailable('Permissions API not available in this browser');\n        }\n        try {\n            // https://developer.mozilla.org/en-US/docs/Web/API/Permissions/query\n            // the specific permissions that are supported varies among browsers that implement the\n            // permissions API, so we need a try/catch in case 'camera' is invalid\n            const permission = await window.navigator.permissions.query({\n                name: 'camera',\n            });\n            return {\n                camera: permission.state,\n                photos: 'granted',\n            };\n        }\n        catch (_a) {\n            throw this.unavailable('Camera permissions are not available in this browser');\n        }\n    }\n    async requestPermissions() {\n        throw this.unimplemented('Not implemented on web.');\n    }\n}\nconst Camera = new CameraWeb();\nexport { Camera };\n//# sourceMappingURL=web.js.map"]}